package Variabler;

import java.util.List;

import Exceptions.existingVariableException;
import Exceptions.noIdException;


public class scopeTree {
	public String ScopeName;
	private List<scopeTree> Nodes;
	public HashSet HashTable;
	public scopeTree parent;
	public List<String> TypeList;
	
	
	public scopeTree addScope(String name){
		scopeTree x = new scopeTree();
		x.ScopeName = name;
		x.parent=this;
		
		Nodes.add(x);
		return x;
	}
	
	public void addVar(String id, String type) throws existingVariableException{
		Var x = new Var();
		x.type=type;
		x.typeId=id;
		HashTable.add(x);
	}
	
	public scopeTree searchScope(String name){
		if(name == this.ScopeName){
			return this;
		}
		else if(parent != null)
		{
			return parent.searchScope(name);
				
		}
		else
		{
			return null;
		}
	}
	
	public Var searchVar(String name) throws noIdException
	{
		if(HashTable.check(name))
			return HashTable.get(name);
		else if(parent != null)
			return parent.searchVar(name);
		else 
			throw new noIdException("Der findes ikke en variabel eller metode med id: " + name);
			
	}
}
